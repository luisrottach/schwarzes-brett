
---
layout: base.njk
title: Schwarzes Brett
permalink: /board/index.html
---

<div class="search">
  <input type="search" id="q" placeholder="Suche nach Titel, Text oder Tags â€¦" />
</div>

<ul class="postlist" id="postlist">
  {% for post in collections.activePosts %}
  <li class="{% if post.data.expires and post.data.expires | date < "now" %}expired{% endif %}">
    <article class="card {% if post.data.pinned %}pinned{% endif %}">
      {% if post.data.pinned %}<div class="badge">ðŸ“Œ Angepinnt</div>{% endif %}
      <h2><a href="{{ post.url }}">{{ post.data.title }}</a></h2>
      <p class="muted">
  {{ post.date | date("%d.%m.%Y") }}
  {% if post.data.expires %} Â· gÃ¼ltig bis {{ post.data.expires | date("%d.%m.%Y %H:%M") }}{% endif %}
</p>
      <div class="content">{{ post.templateContent | safe }}</div>
      {% if post.data.tags %}
      <p>{% for t in post.data.tags %}<span class="badge">#{{ t }}</span>{% endfor %}</p>
      {% endif %}
      {% if post.data.files %}
      <p><strong>Dateien:</strong>
        {% for f in post.data.files %}
          <a href="{{ f.file }}" target="_blank" rel="noopener">{{ f.file | url | split('/') | last }}</a>{% if not loop.last %}, {% endif %}
        {% endfor %}
      </p>
      {% endif %}
    </article>
  </li>
  {% endfor %}
</ul>

<script>
  const q = document.getElementById('q');
  const list = document.getElementById('postlist');
  q.addEventListener('input', () => {
    const term = q.value.toLowerCase();
    list.querySelectorAll('li').forEach(li => {
      const txt = li.innerText.toLowerCase();
      li.style.display = txt.includes(term) ? '' : 'none';
    });
  });
</script>
